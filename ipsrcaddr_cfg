<cib crm_feature_set="3.0.14" validate-with="pacemaker-2.10" epoch="105" num_updates="0" admin_epoch="0" cib-last-written="Thu Jul 23 21:12:23 2020" update-origin="ppptest01" update-client="cibadmin" update-user="root" have-quorum="1" dc-uuid="2">
  <configuration>
    <crm_config>
      <cluster_property_set id="cib-bootstrap-options">
        <nvpair id="cib-bootstrap-options-have-watchdog" name="have-watchdog" value="false"/>
        <nvpair id="cib-bootstrap-options-dc-version" name="dc-version" value="1.1.21-4.el7-f14e36fd43"/>
        <nvpair id="cib-bootstrap-options-cluster-infrastructure" name="cluster-infrastructure" value="corosync"/>
        <nvpair id="cib-bootstrap-options-cluster-name" name="cluster-name" value="ha_cluster"/>
        <nvpair id="cib-bootstrap-options-stonith-enabled" name="stonith-enabled" value="false"/>
        <nvpair id="cib-bootstrap-options-last-lrm-refresh" name="last-lrm-refresh" value="1595509892"/>
      </cluster_property_set>
    </crm_config>
    <nodes>
      <node id="1" uname="ppptest01"/>
      <node id="2" uname="ppptest02"/>
      <node id="3" uname="ppptest03"/>
    </nodes>
    <resources>
      <master id="drbd_devpath_master">
        <primitive class="ocf" id="drbd_devpath" provider="linbit" type="drbd">
          <instance_attributes id="drbd_devpath-instance_attributes">
            <nvpair id="drbd_devpath-instance_attributes-drbd_resource" name="drbd_resource" value="pbxdata"/>
          </instance_attributes>
          <operations>
            <op id="drbd_devpath-demote-interval-0s" interval="0s" name="demote" timeout="90"/>
            <op id="drbd_devpath-monitor-interval-10s" interval="10s" name="monitor"/>
            <op id="drbd_devpath-notify-interval-0s" interval="0s" name="notify" timeout="90"/>
            <op id="drbd_devpath-promote-interval-0s" interval="0s" name="promote" timeout="90"/>
            <op id="drbd_devpath-reload-interval-0s" interval="0s" name="reload" timeout="30"/>
            <op id="drbd_devpath-start-interval-0s" interval="0s" name="start" timeout="240"/>
            <op id="drbd_devpath-stop-interval-0s" interval="0s" name="stop" timeout="100"/>
          </operations>
        </primitive>
        <meta_attributes id="drbd_devpath_master-meta_attributes">
          <nvpair id="drbd_devpath_master-meta_attributes-master-node-max" name="master-node-max" value="1"/>
          <nvpair id="drbd_devpath_master-meta_attributes-clone-max" name="clone-max" value="3"/>
          <nvpair id="drbd_devpath_master-meta_attributes-notify" name="notify" value="true"/>
          <nvpair id="drbd_devpath_master-meta_attributes-master-max" name="master-max" value="1"/>
          <nvpair id="drbd_devpath_master-meta_attributes-clone-node-max" name="clone-node-max" value="1"/>
        </meta_attributes>
      </master>
      <primitive class="ocf" id="vip" provider="heartbeat" type="IPaddr2">
        <instance_attributes id="vip-instance_attributes">
          <nvpair id="vip-instance_attributes-cidr_netmask" name="cidr_netmask" value="24"/>
          <nvpair id="vip-instance_attributes-ip" name="ip" value="192.168.1.100"/>
        </instance_attributes>
        <operations>
          <op id="vip-monitor-interval-5s" interval="5s" name="monitor"/>
          <op id="vip-start-interval-0s" interval="0s" name="start" timeout="20s"/>
          <op id="vip-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
        </operations>
      </primitive>
      <primitive class="ocf" id="src_pkt_ip" provider="heartbeat" type="IPsrcaddr">
        <instance_attributes id="src_pkt_ip-instance_attributes">
          <nvpair id="src_pkt_ip-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
          <nvpair id="src_pkt_ip-instance_attributes-ipaddress" name="ipaddress" value="192.168.1.100"/>
        </instance_attributes>
        <operations>
          <op id="src_pkt_ip-monitor-interval-5s" interval="5s" name="monitor"/>
          <op id="src_pkt_ip-start-interval-0s" interval="0s" name="start" timeout="20s"/>
          <op id="src_pkt_ip-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
        </operations>
      </primitive>
    </resources>
    <constraints>
      <rsc_colocation id="colocation-vip-drbd_devpath_master-INFINITY" rsc="vip" score="INFINITY" with-rsc="drbd_devpath_master" with-rsc-role="Master"/>
      <rsc_order first="drbd_devpath_master" first-action="promote" id="order-drbd_devpath_master-vip-mandatory" then="vip" then-action="start"/>
      <rsc_colocation id="colocation-src_pkt_ip-vip-INFINITY" rsc="src_pkt_ip" score="INFINITY" with-rsc="vip"/>
      <rsc_order first="vip" first-action="start" id="order-vip-src_pkt_ip-mandatory" then="src_pkt_ip" then-action="start"/>
    </constraints>
    <rsc_defaults>
      <meta_attributes id="rsc_defaults-options">
        <nvpair id="rsc_defaults-options-resource-stickiness" name="resource-stickiness" value="100"/>
      </meta_attributes>
    </rsc_defaults>
  </configuration>
  <status>
    <node_state id="1" uname="ppptest01" in_ccm="true" crmd="online" crm-debug-origin="do_update_resource" join="member" expected="member">
      <lrm id="1">
        <lrm_resources>
          <lrm_resource id="drbd_devpath" type="drbd" class="ocf" provider="linbit">
            <lrm_rsc_op id="drbd_devpath_last_0" operation_key="drbd_devpath_promote_0" operation="promote" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="3:100:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;3:100:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest01" call-id="137" rc-code="0" op-status="0" interval="0" last-run="1595509943" last-rc-change="1595509943" exec-time="52" queue-time="0" op-digest="4ff52cdf049dfdeed972ed7f88d64a9c" op-force-restart=" drbd_resource " op-restart-digest="4ff52cdf049dfdeed972ed7f88d64a9c"/>
          </lrm_resource>
          <lrm_resource id="vip" type="IPaddr2" class="ocf" provider="heartbeat">
            <lrm_rsc_op id="vip_last_0" operation_key="vip_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="38:101:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;38:101:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest01" call-id="143" rc-code="0" op-status="0" interval="0" last-run="1595509943" last-rc-change="1595509943" exec-time="95" queue-time="0" op-digest="4683c21a0831fd7a07fc4c9d48bbe9c4"/>
            <lrm_rsc_op id="vip_monitor_5000" operation_key="vip_monitor_5000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="39:101:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;39:101:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest01" call-id="144" rc-code="0" op-status="0" interval="5000" last-rc-change="1595509943" exec-time="51" queue-time="0" op-digest="7355d34a0c118da137bc62c7e84fb870"/>
          </lrm_resource>
        </lrm_resources>
      </lrm>
      <transient_attributes id="1">
        <instance_attributes id="status-1">
          <nvpair id="status-1-master-drbd_devpath" name="master-drbd_devpath" value="10000"/>
        </instance_attributes>
      </transient_attributes>
    </node_state>
    <node_state id="2" uname="ppptest02" in_ccm="true" crmd="online" crm-debug-origin="do_update_resource" join="member" expected="member">
      <lrm id="2">
        <lrm_resources>
          <lrm_resource id="drbd_devpath" type="drbd" class="ocf" provider="linbit">
            <lrm_rsc_op id="drbd_devpath_last_0" operation_key="drbd_devpath_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="6:99:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;6:99:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest02" call-id="90" rc-code="0" op-status="0" interval="0" last-run="1595509942" last-rc-change="1595509942" exec-time="848" queue-time="0" op-digest="4ff52cdf049dfdeed972ed7f88d64a9c" op-force-restart=" drbd_resource " op-restart-digest="4ff52cdf049dfdeed972ed7f88d64a9c"/>
            <lrm_rsc_op id="drbd_devpath_monitor_10000" operation_key="drbd_devpath_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="6:100:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;6:100:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest02" call-id="94" rc-code="0" op-status="0" interval="10000" last-rc-change="1595509943" exec-time="62" queue-time="0" op-digest="d7abff4e77d49e16757c288ca048426c"/>
          </lrm_resource>
          <lrm_resource id="vip" type="IPaddr2" class="ocf" provider="heartbeat">
            <lrm_rsc_op id="vip_last_0" operation_key="vip_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="4:101:7:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:7;4:101:7:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest02" call-id="98" rc-code="7" op-status="0" interval="0" last-run="1595509943" last-rc-change="1595509943" exec-time="54" queue-time="0" op-digest="4683c21a0831fd7a07fc4c9d48bbe9c4"/>
          </lrm_resource>
        </lrm_resources>
      </lrm>
      <transient_attributes id="2">
        <instance_attributes id="status-2">
          <nvpair id="status-2-master-drbd_devpath" name="master-drbd_devpath" value="10000"/>
        </instance_attributes>
      </transient_attributes>
    </node_state>
    <node_state id="3" uname="ppptest03" in_ccm="true" crmd="online" crm-debug-origin="do_update_resource" join="member" expected="member">
      <lrm id="3">
        <lrm_resources>
          <lrm_resource id="drbd_devpath" type="drbd" class="ocf" provider="linbit">
            <lrm_rsc_op id="drbd_devpath_last_0" operation_key="drbd_devpath_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="8:99:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;8:99:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest03" call-id="90" rc-code="0" op-status="0" interval="0" last-run="1595509942" last-rc-change="1595509942" exec-time="841" queue-time="1" op-digest="4ff52cdf049dfdeed972ed7f88d64a9c" op-force-restart=" drbd_resource " op-restart-digest="4ff52cdf049dfdeed972ed7f88d64a9c"/>
            <lrm_rsc_op id="drbd_devpath_monitor_10000" operation_key="drbd_devpath_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="9:100:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:0;9:100:0:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest03" call-id="94" rc-code="0" op-status="0" interval="10000" last-rc-change="1595509943" exec-time="64" queue-time="0" op-digest="d7abff4e77d49e16757c288ca048426c"/>
          </lrm_resource>
          <lrm_resource id="vip" type="IPaddr2" class="ocf" provider="heartbeat">
            <lrm_rsc_op id="vip_last_0" operation_key="vip_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.14" transition-key="5:101:7:b265e7d6-65df-4a90-83aa-48b26c32c3e6" transition-magic="0:7;5:101:7:b265e7d6-65df-4a90-83aa-48b26c32c3e6" exit-reason="" on_node="ppptest03" call-id="98" rc-code="7" op-status="0" interval="0" last-run="1595509943" last-rc-change="1595509943" exec-time="56" queue-time="0" op-digest="4683c21a0831fd7a07fc4c9d48bbe9c4"/>
          </lrm_resource>
        </lrm_resources>
      </lrm>
      <transient_attributes id="3">
        <instance_attributes id="status-3">
          <nvpair id="status-3-master-drbd_devpath" name="master-drbd_devpath" value="10000"/>
        </instance_attributes>
      </transient_attributes>
    </node_state>
  </status>
</cib>
